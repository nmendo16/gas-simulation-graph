<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./stylesheetforgas.css" />
  <title>Interactive Line Graph</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
</head>
<body>
    <h2><br>Gas Law Simulation</h2>
    <p>Explore the Ideal Gas Law using the simulation below:</p>
  
    <div class="scale-wrapper">
      <iframe
        src="https://ch301.cm.utexas.edu/simulations/js/idealgaslaw/"
        width="1024"
        height="668"
        style="border: none;"
      ></iframe>
    </div>
  
    
  <div class="container">
    <div class="instructions">
        <p>Enter  the Volume (L) and Pressure (atm) values below, <br>then click the Update Graph button to plot your data on the graph.</p>
    </div>      
    
    <div class="inputs" >
      <strong>Volume</strong>
      <input type="number" class="x" value="200">
      <input type="number" class="x" value="300">
      <input type="number" class="x" value="450">
      <input type="number" class="x" value="600">
      <input type="number" class="x" value="700">
      <input type="number" class="x" value="800">
      <input type="number" class="x" value="900">
      <input type="number" class="x" value="1000">
    </div>
    <div class="inputs" id="pressure-inputs">
      <strong>Pressure</strong>
      <input type="number" class="y" value="28">
      <input type="number" class="y" value="14">
      <input type="number" class="y" value="9">
      <input type="number" class="y" value="7">
      <input type="number" class="y" value="6">
      <input type="number" class="y" value="5">
      <input type="number" class="y" value="4">
      <input type="number" class="y" value="3">
    </div>
    <div class="chart">
      <canvas id="lineChart"></canvas>
    </div>
     
</div>
<br><button onclick="updateChart()">Update Graph</button>

  
  <script>
    const ctx = document.getElementById('lineChart').getContext('2d');
    let chart;

    function updateChart() {
  const xInputs = document.querySelectorAll('.x');
  const yInputs = document.querySelectorAll('.y');

  const points = [];

  for (let i = 0; i < xInputs.length; i++) {
    const x = Number(xInputs[i].value);
    const y = Number(yInputs[i].value);
    if (!isNaN(x) && !isNaN(y)) {
      points.push({ x, y });
    }
  }

  // Sort by volume so lines connect left to right
  points.sort((a, b) => a.x - b.x);

  if (chart) {
    chart.data.datasets[0].data = points;
    chart.update();
  } else {
    chart = new Chart(ctx, {
      type: 'line', // changed from 'scatter'
      data: {
        datasets: [{
          label: 'Pressure and Volume Relationship',
          data: points,
          borderColor: 'orange',
          backgroundColor: 'orange',
          pointRadius: 6,
          fill: false,
          tension: 0.1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          x: {
            type: 'linear',
            position: 'bottom',
            title: {
              display: true,
              text: 'Volume (L)'
            },
            min: 0,
            max: 1500
          },
          y: {
            title: {
              display: true,
              text: 'Pressure (atm)'
            },
            min: 0,
            max: 30
          }
        }
      }
    });
  }
}



    window.onload = updateChart;
    
  </script>

  
  <div style="font-size: 0.9em; margin: 30px;">
    <br><p style="text-align: left;"><strong>Attribution:</strong>
    The Ideal Gas Law simulation embedded in this page was originally developed as part of
      <a href="https://ch301.cm.utexas.edu/index.php" target="_blank">Chemistry 301 at the University of Texas at Austin</a>.<br>
     <br><em>Note: This resource is no longer actively maintained and was scheduled for retirement in 2018.
      Users are encouraged to visit the updated site at</em>
      <a href="https://gchem.cm.utexas.edu" target="_blank">gchem.cm.utexas.edu</a>
      <em>for current simulations and materials.</em><br><br>
      <p style="text-align: center;">&copy; University of Texas at Austin
    </p>
  </div>
  
</body>
</html>
